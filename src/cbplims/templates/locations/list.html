{% extends "user_content.html" %}
{% block content_body %}

  <h2>Here are the locations</h2>
<div class="msg">{{msg}}</div>
{% if not locations %}
 <div class="msg"> You were at the last location </div>
 {% else %}
   
<form method="POST" action="/location/state">
<div>
    <div style="float:left;">
      
      <input type="submit" name="method" value="Disable"/>
      <input type="submit" name="method" value="Enable"/>
    </div>
    <div style="float:right;">
            {% if locations[0].parent_id > 0 %}
            <a href="/location/{{locations[0].parent_id}}/list_back"> Back </a>
            {% endif %}
     
    </div>
  </div>
<br>


<table id="location_table" class="table table-striped table-bordered" cellspacing="0" width="100%">
<tr>
    <th>ID</th>
    <th>parent_id</th>
    <th>parent_row</th>
    <th>parent_col</th>
    <th>Project Name</th>
    <th>My Row</th>
    <th>My Col</th>
    <th>Name</th>
    <th>Notes</th>
    <th>Forward</th>
    <th>Add</th>
    <th>Edit</th>
    <th></th>
</tr>

{% for l in locations %}

    {% if l.is_active == true %}
            <tr>
        {% else %}
            <tr class="notactive">
        {% endif %}

    <td>{{l.id}}</td>
    <td>{{l.parent_id}}</td>
    <td>{{l.parent_row}}</td>
    <td>{{l.parent_col}}</td>
    <td>{{l.project_name}}</td>
    <td>{{l.my_rows}}</td>
    <td>{{l.my_cols}}</td>
    <td>{{l.name}}</td>
    <td>{{l.notes}}</td>
    <td><a href="/location/{{l.id}}/list"> Forward </a></td>
    <td>
        {% if l.my_rows > 0 or l.my_cols > 0 %}
        <a href="/location/{{l.id}}/matrix"> Add </a>
        {% else %}
        <a href="/location/{{l.id}}/add"> Add </a>
        {% endif %}
    </td>
    <td> <a href="/location/{{l.id}}/edit"> Edit </a></td>
    <td><input type="checkbox" name="location_id" value="{{l.id}}"> </td>
</tr>

{% endfor %}

</table>
<input type="hidden" name="parent_id" value = {{locations[0].parent_id}}>
</form>
{% endif %}
{% endblock %}